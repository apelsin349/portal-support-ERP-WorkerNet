@echo off
chcp 65001 >nul

REM WorkerNet Portal Frontend - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
echo üöÄ –ó–∞–ø—É—Å–∫ WorkerNet Portal Frontend...

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18+
    pause
    exit /b 1
)

echo ‚úÖ Node.js –≤–µ—Ä—Å–∏—è: 
node --version

REM –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
call npm install

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    pause
    exit /b 1
)

REM –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫ PWA
echo üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA...
call npm run generate-icons

if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏ PWA
)

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞
echo üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞...
call npm run lint

if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞. –ó–∞–ø—É—Å–∫ 'npm run lint:fix' –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...
    call npm run lint:fix
)

REM –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo üî® –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞...
call npm run build

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
    pause
    exit /b 1
)

echo ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!

REM –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
echo üöÄ –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏...
echo üì± –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
echo üîß PWA —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ production —Ä–µ–∂–∏–º–µ
echo üåê –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PWA –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS

call npm run dev
