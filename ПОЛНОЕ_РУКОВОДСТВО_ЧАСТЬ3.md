# üöÄ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ WorkerNet Portal - –ß–∞—Å—Ç—å 3

*–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ [–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û.md](–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û.md) –∏ [–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨2.md](–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨3.md)*

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

#### 0. Permission denied –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ (*.sh)

```
-bash: ./scripts/quick-update.sh: Permission denied
```

**–ü—Ä–∏—á–∏–Ω–∞:** –Ω–∞ WSL/NTFS/—Å–µ—Ç–µ–≤—ã—Ö –¥–∏—Å–∫–∞—Ö execute-–±–∏—Ç –º–æ–∂–µ—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω—ã CRLF –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫.

**–†–µ—à–µ–Ω–∏–µ (–ª—é–±–æ–π –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤):**

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ bash
bash ./scripts/quick-update.sh

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ)
bash ./scripts/fix-perms.sh

# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ
./scripts/quick-update.sh
```

–î–ª—è WSL —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

```ini
[automount]
options = "metadata"
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ WSL: `wsl --shutdown`.

#### 1. –û—à–∏–±–∫–∏ Python

**–ü—Ä–æ–±–ª–µ–º–∞: Python –≤–µ—Ä—Å–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è**
```
ERROR: Python 3.9 is not supported. Please use Python 3.11 or higher.
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python 3.11
sudo apt update
sudo apt install -y python3.11 python3.11-venv python3.11-dev python3-pip

# –û–±–Ω–æ–≤–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.11 1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
python3 --version

# –î–ª—è Ubuntu 22.04+ Python 3.11 —É–∂–µ –≤–∫–ª—é—á–µ–Ω
```

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ pip**
```
ERROR: Could not find a version that satisfies the requirement
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å pip
python3 -m pip install --upgrade pip

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à pip
pip cache purge

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
pip install --upgrade -r requirements.txt

# –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
pip install --upgrade -r requirements.txt --force-reinstall
```

#### 2. –û—à–∏–±–∫–∏ Node.js

**–ü—Ä–æ–±–ª–µ–º–∞: npm install –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
```
npm error code EINTEGRITY
npm error integrity checksum failed
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å npm –∫—ç—à
npm cache clean --force
rm -rf ~/.npm
rm -rf /tmp/npm-*

# –£–¥–∞–ª–∏—Ç—å package-lock.json –∏ node_modules
rm -rf package-lock.json node_modules

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install

# –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è
npm install --legacy-peer-deps
```

**–ü—Ä–æ–±–ª–µ–º–∞: –í–µ—Ä—Å–∏—è Node.js —É—Å—Ç–∞—Ä–µ–ª–∞**
```
ERROR: Node.js version 16 is not supported. Please use Node.js 18 or higher.
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# –ò–ª–∏ —á–µ—Ä–µ–∑ NVM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
source ~/.bashrc
nvm install 18
nvm use 18
nvm alias default 18

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
node --version
npm --version
```

#### 3. –û—à–∏–±–∫–∏ Docker

**–ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
```
ERROR: Cannot connect to the Docker daemon
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker
sudo systemctl start docker
sudo systemctl enable docker

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –ü–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
newgrp docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status docker
docker --version
```

**–ü—Ä–æ–±–ª–µ–º–∞: Docker Compose –Ω–µ –Ω–∞–π–¥–µ–Ω**
```
ERROR: docker-compose: command not found
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose plugin (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
sudo apt install -y docker-compose-plugin

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker compose version

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å standalone –≤–µ—Ä—Å–∏—é
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
docker-compose --version
```

### –ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### 1. PostgreSQL

**–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL**
```
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL: password authentication failed for user "workernet"
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PostgreSQL
sudo systemctl status postgresql

# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
sudo systemctl start postgresql
sudo systemctl enable postgresql

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo -u postgres psql -c "DROP USER IF EXISTS workernet;"
sudo -u postgres psql -c "CREATE USER workernet WITH PASSWORD 'workernet123' CREATEDB SUPERUSER;"
sudo -u postgres psql -c "CREATE DATABASE workernet OWNER workernet;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
PGPASSWORD=workernet123 psql -h localhost -U workernet -d workernet -c '\q'
```

**–ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞**
```
ERROR: database "workernet" is being accessed by other users
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo -u postgres psql -c "SELECT pid, usename, application_name, client_addr, state FROM pg_stat_activity WHERE datname = 'workernet';"

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo -u postgres psql -c "SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'workernet' AND pid <> pg_backend_pid();"

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql -c "DROP DATABASE workernet;"
sudo -u postgres psql -c "CREATE DATABASE workernet OWNER workernet;"
```

#### 2. Redis

**–ü—Ä–æ–±–ª–µ–º–∞: Redis –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
```
redis.exceptions.ConnectionError: Error 111 connecting to localhost:6379. Connection refused.
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Redis
sudo systemctl status redis-server

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis
sudo systemctl start redis-server
sudo systemctl enable redis-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
redis-cli ping
```

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Redis**
```
redis.exceptions.AuthenticationError: AUTH <password> failed
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo grep requirepass /etc/redis/redis.conf

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å
sudo sed -i 's/# requirepass foobared/requirepass redis123/' /etc/redis/redis.conf

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Redis
sudo systemctl restart redis-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–∞—Ä–æ–ª–µ–º
redis-cli -a redis123 ping
```

### –ü—Ä–æ–±–ª–µ–º—ã Django

#### 1. –ú–∏–≥—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π**
```
django.db.utils.OperationalError: relation "django_migrations" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py migrate --run-syncdb

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, —Å–±—Ä–æ—Å–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate --fake-initial
```

**–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π**
```
django.db.utils.ProgrammingError: relation "app_model" already exists
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–º–µ—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ
python manage.py migrate --fake app_name 0001

# –ò–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∑–∞–Ω–æ–≤–æ
python manage.py migrate app_name zero
python manage.py migrate app_name
```

#### 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è**
```
404 Not Found: /static/admin/css/base.css
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python manage.py collectstatic --noinput

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ settings.py
STATIC_URL = '/static/'
STATIC_ROOT = BASE_DIR / 'staticfiles'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chown -R www-data:www-data /path/to/staticfiles
sudo chmod -R 755 /path/to/staticfiles
```

#### 3. –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
```
PermissionError: [Errno 13] Permission denied: '/path/to/media'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –º–µ–¥–∏–∞
mkdir -p /path/to/media

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chown -R www-data:www-data /path/to/media
sudo chmod -R 755 /path/to/media

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ settings.py
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'
```

### –ü—Ä–æ–±–ª–µ–º—ã Frontend

#### 1. React

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏**
```
Module not found: Can't resolve 'module-name'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
npm cache clean --force
rm -rf node_modules package-lock.json

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏–∏
npm list
```

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ TypeScript**
```
Type error: Property 'property' does not exist on type 'Type'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
npm run type-check

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã
npm install --save-dev @types/package-name

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tsconfig.json
```

#### 2. Webpack

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ Webpack**
```
ERROR in ./src/index.tsx
Module build failed: Error: Cannot resolve module
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Webpack
rm -rf .next
rm -rf node_modules/.cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm start
```

### –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 1. –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞: –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ**
```
Page load time > 5 seconds
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql -c "SELECT pg_size_pretty(pg_database_size('workernet'));"

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql -d workernet -c "VACUUM ANALYZE;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
sudo -u postgres psql -d workernet -c "SELECT schemaname, tablename, attname, n_distinct, correlation FROM pg_stats WHERE schemaname = 'public';"

# –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
python manage.py dbshell
CREATE INDEX CONCURRENTLY idx_ticket_status ON app_ticket(status);
CREATE INDEX CONCURRENTLY idx_ticket_priority ON app_ticket(priority);
CREATE INDEX CONCURRENTLY idx_ticket_created_at ON app_ticket(created_at);
```

#### 2. –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞: Django –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏**
```
Memory usage > 1GB
```

**–†–µ—à–µ–Ω–∏–µ:**
```python
# settings.py
# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'workernet',
        'USER': 'workernet',
        'PASSWORD': 'workernet123',
        'HOST': 'localhost',
        'PORT': '5432',
        'OPTIONS': {
            'MAX_CONNS': 20,
        }
    }
}

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
CACHES = {
    'default': {
        'BACKEND': 'django_redis.cache.RedisCache',
        'LOCATION': 'redis://127.0.0.1:6379/1',
        'OPTIONS': {
            'CLIENT_CLASS': 'django_redis.client.DefaultClient',
            'MAX_ENTRIES': 1000,
        }
    }
}
```

### –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 1. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω**
```
SSL certificate verify failed
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
openssl s_client -connect your-domain.com:443 -servername your-domain.com

# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot renew --dry-run
sudo certbot renew

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
sudo nginx -t
sudo systemctl reload nginx
```

#### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏**
```
Invalid login credentials
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
python manage.py shell
from django.contrib.auth import get_user_model
User = get_user_model()
users = User.objects.all()
for user in users:
    print(f"{user.username}: {user.is_active}")

# –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py changepassword username

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
python manage.py shell
from django.conf import settings
print(settings.AUTHENTICATION_BACKENDS)
```

### –ü—Ä–æ–±–ª–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### 1. Prometheus

**–ü—Ä–æ–±–ª–µ–º–∞: –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è**
```
Prometheus targets are down
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Prometheus
sudo systemctl status prometheus

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo promtool check config /etc/prometheus/prometheus.yml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å targets
curl http://localhost:9090/api/v1/targets

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Prometheus
sudo systemctl restart prometheus
```

#### 2. Grafana

**–ü—Ä–æ–±–ª–µ–º–∞: Grafana –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ**
```
No data points
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Prometheus
curl http://localhost:3000/api/datasources

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Grafana
sudo systemctl status grafana-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u grafana-server -f

# –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Grafana
sudo grafana-cli admin reset-admin-password admin
sudo systemctl restart grafana-server
```

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 403/"—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω" –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ APT —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Grafana**
```
Err: https://apt.grafana.com stable InRelease
  403  Access Denied
E: The repository 'https://apt.grafana.com stable InRelease' is not signed.
```

**–†–µ—à–µ–Ω–∏—è:**
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∫–ª—é—á —á–µ—Ä–µ–∑ keyring:
```bash
sudo rm -f /etc/apt/sources.list.d/grafana.list /etc/apt/sources.list.d/grafana-oss.list
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://apt.grafana.com/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/grafana.gpg || true
sudo chmod a+r /etc/apt/keyrings/grafana.gpg
echo "deb [signed-by=/etc/apt/keyrings/grafana.gpg] https://apt.grafana.com stable main" | sudo tee /etc/apt/sources.list.d/grafana.list >/dev/null
sudo apt update || true
```

- –ï—Å–ª–∏ 403 —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –†–§) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ .deb:
```bash
GRAFANA_VERSION=10.4.3
GRAFANA_DEB_URL=${GRAFANA_DEB_URL:-https://dl.grafana.com/oss/release/grafana_${GRAFANA_VERSION}_amd64.deb}
wget -O "/tmp/grafana_${GRAFANA_VERSION}_amd64.deb" "$GRAFANA_DEB_URL"
sudo apt install -y adduser libfontconfig1
sudo dpkg -i "/tmp/grafana_${GRAFANA_VERSION}_amd64.deb" || sudo apt -f install -y
sudo systemctl enable grafana-server
sudo systemctl start grafana-server
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

**Django –ª–æ–≥–∏:**
```bash
# –õ–æ–≥–∏ Django
tail -f /var/log/django/django.log

# –õ–æ–≥–∏ Gunicorn
sudo journalctl -u gunicorn -f

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/error.log
sudo tail -f /var/log/nginx/access.log
```

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏:**
```bash
# –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
sudo journalctl -f

# –õ–æ–≥–∏ PostgreSQL
sudo tail -f /var/log/postgresql/postgresql-15-main.log

# –õ–æ–≥–∏ Redis
sudo tail -f /var/log/redis/redis-server.log
```

#### 2. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤:**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∏ –ø–∞–º—è—Ç–∏
htop

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
du -sh /path/to/directory

# –°–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
sudo netstat -tlnp
sudo ss -tlnp
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:**
```bash
# –ü—Ä–æ—Ü–µ—Å—Å—ã Python
ps aux | grep python

# –ü—Ä–æ—Ü–µ—Å—Å—ã Node.js
ps aux | grep node

# –ü—Ä–æ—Ü–µ—Å—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
ps aux | grep postgres
ps aux | grep redis
```

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–°–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
#!/bin/bash
# scripts/diagnose.sh

echo "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ WorkerNet Portal..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
echo "üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:"
systemctl is-active postgresql && echo "‚úÖ PostgreSQL: –∞–∫—Ç–∏–≤–µ–Ω" || echo "‚ùå PostgreSQL: –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"
systemctl is-active redis-server && echo "‚úÖ Redis: –∞–∫—Ç–∏–≤–µ–Ω" || echo "‚ùå Redis: –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"
systemctl is-active nginx && echo "‚úÖ Nginx: –∞–∫—Ç–∏–≤–µ–Ω" || echo "‚ùå Nginx: –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
echo "üîó –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:"
PGPASSWORD=workernet123 psql -h localhost -U workernet -d workernet -c '\q' 2>/dev/null && echo "‚úÖ PostgreSQL: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OK" || echo "‚ùå PostgreSQL: –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
redis-cli -a redis123 ping 2>/dev/null && echo "‚úÖ Redis: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OK" || echo "‚ùå Redis: –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
echo "üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤:"
netstat -tlnp | grep :8000 && echo "‚úÖ Django: –ø–æ—Ä—Ç 8000 –æ—Ç–∫—Ä—ã—Ç" || echo "‚ùå Django: –ø–æ—Ä—Ç 8000 –∑–∞–∫—Ä—ã—Ç"
netstat -tlnp | grep :3000 && echo "‚úÖ React: –ø–æ—Ä—Ç 3000 –æ—Ç–∫—Ä—ã—Ç" || echo "‚ùå React: –ø–æ—Ä—Ç 3000 –∑–∞–∫—Ä—ã—Ç"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
echo "üíæ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:"
df -h | grep -E "(/$|/var|/opt)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
echo "üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:"
free -h

echo "‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
```

**–°–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```bash
#!/bin/bash
# scripts/fix-common-issues.sh

echo "üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º..."

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..."
sudo systemctl restart postgresql
sudo systemctl restart redis-server
sudo systemctl restart nginx

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–µ–π
echo "üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–µ–π..."
npm cache clean --force
pip cache purge

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
echo "üóÑÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö..."
sudo -u postgres psql -c "DROP USER IF EXISTS workernet;" 2>/dev/null || true
sudo -u postgres psql -c "CREATE USER workernet WITH PASSWORD 'workernet123' CREATEDB SUPERUSER;"
sudo -u postgres psql -c "DROP DATABASE IF EXISTS workernet;" 2>/dev/null || true
sudo -u postgres psql -c "CREATE DATABASE workernet OWNER workernet;"

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
echo "üì¶ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π..."
cd backend
source venv/bin/activate
python manage.py migrate
python manage.py collectstatic --noinput

echo "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

#### 1. –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**scripts/quick-update.sh:**
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
./scripts/quick-update.sh                    # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/quick-update.sh --check            # –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
./scripts/quick-update.sh --force            # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/quick-update.sh --branch develop   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –≤–µ—Ç–∫–∏ develop
./scripts/quick-update.sh --debug            # –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
./scripts/quick-update.sh --create-branch new-feature  # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
WORKERNET_NONINTERACTIVE=1 ./scripts/quick-update.sh  # –ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
WORKERNET_BRANCH=develop ./scripts/quick-update.sh     # –£–∫–∞–∑–∞—Ç—å –≤–µ—Ç–∫—É
```

#### 2. –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**scripts/install-ubuntu.sh:**
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
./scripts/install-ubuntu.sh                  # –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
./scripts/install-ubuntu.sh --branch develop # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ—Ç–∫–∏ develop
./scripts/install-ubuntu.sh --self-update    # –°–∞–º–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
WORKERNET_INSTALL_MONITORING=0 ./scripts/install-ubuntu.sh  # –ë–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
WORKERNET_BRANCH=develop ./scripts/install-ubuntu.sh        # –£–∫–∞–∑–∞—Ç—å –≤–µ—Ç–∫—É
WORKERNET_NONINTERACTIVE=1 ./scripts/install-ubuntu.sh      # –ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```

#### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker

**scripts/start-docker.sh:**
```bash
./scripts/start-docker.sh start     # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/start-docker.sh stop      # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/start-docker.sh restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/start-docker.sh logs      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./scripts/start-docker.sh status    # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/start-docker.sh branch    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ç–∫–µ Git
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**scripts/setup.sh:**
```bash
./scripts/setup.sh                  # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
```bash
sudo tee /opt/update-workernet.sh > /dev/null << 'EOF'
#!/bin/bash

cd /opt/workernet

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
/opt/backup-workernet.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker compose build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose down
docker compose up -d

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker compose exec backend python manage.py migrate

# –°–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
docker compose exec backend python manage.py collectstatic --noinput

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
sudo systemctl reload nginx

echo "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
EOF

sudo chmod +x /opt/update-workernet.sh
```

#### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**Cron –∑–∞–¥–∞—á–∏:**
```bash
sudo crontab -e
```

–î–æ–±–∞–≤–∏—Ç—å:
```
# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00
0 2 * * * /opt/backup-workernet.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00
0 3 * * 0 /opt/update-workernet.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 12:00
0 12 * * * /usr/bin/certbot renew --quiet
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 1. –°–∫—Ä–∏–ø—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
sudo tee /opt/backup-workernet.sh > /dev/null << 'EOF'
#!/bin/bash

BACKUP_DIR="/opt/backups"
DATE=$(date +%Y%m%d_%H%M%S)

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p $BACKUP_DIR

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump -h localhost -U workernet workernet > $BACKUP_DIR/db_backup_$DATE.sql

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
tar -czf $BACKUP_DIR/files_backup_$DATE.tar.gz /opt/workernet/media /opt/workernet/static

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ–±–ª–∞–∫–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# aws s3 sync $BACKUP_DIR s3://your-backup-bucket/
EOF

sudo chmod +x /opt/backup-workernet.sh
```

#### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
sudo -u postgres createdb workernet_restore

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql workernet_restore < /opt/backups/db_backup_20231201_020000.sql

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql -c "ALTER DATABASE workernet RENAME TO workernet_old;"
sudo -u postgres psql -c "ALTER DATABASE workernet_restore RENAME TO workernet;"
```

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
docker compose down

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã
tar -xzf /opt/backups/files_backup_20231201_020000.tar.gz -C /

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
docker compose up -d
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 1. LDAP/Active Directory

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ LDAP:**
```python
# settings.py
AUTHENTICATION_BACKENDS = [
    'django_auth_ldap.backend.LDAPBackend',
    'django.contrib.auth.backends.ModelBackend',
]

import ldap
from django_auth_ldap.config import LDAPSearch, GroupOfNamesType

AUTH_LDAP_SERVER_URI = "ldap://ldap.example.com"
AUTH_LDAP_BIND_DN = "cn=admin,dc=example,dc=com"
AUTH_LDAP_BIND_PASSWORD = "password"
AUTH_LDAP_USER_SEARCH = LDAPSearch(
    "ou=users,dc=example,dc=com",
    ldap.SCOPE_SUBTREE,
    "(uid=%(user)s)"
)
AUTH_LDAP_GROUP_SEARCH = LDAPSearch(
    "ou=groups,dc=example,dc=com",
    ldap.SCOPE_SUBTREE,
    "(objectClass=groupOfNames)"
)
AUTH_LDAP_GROUP_TYPE = GroupOfNamesType(name_attr="cn")
AUTH_LDAP_USER_ATTR_MAP = {
    "first_name": "givenName",
    "last_name": "sn",
    "email": "mail",
}
```

#### 2. Email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP:**
```python
# settings.py
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'your-email@gmail.com'
EMAIL_HOST_PASSWORD = 'your-app-password'
DEFAULT_FROM_EMAIL = 'WorkerNet Portal <noreply@your-domain.com>'
```

#### 3. Webhook –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–°–æ–∑–¥–∞–Ω–∏–µ webhook:**
```python
# app/models.py
class Webhook(models.Model):
    name = models.CharField(max_length=100)
    url = models.URLField()
    events = models.JSONField(default=list)
    is_active = models.BooleanField(default=True)
    secret = models.CharField(max_length=100, blank=True)

# app/services.py
import requests
import hmac
import hashlib
import json

class WebhookService:
    @staticmethod
    def send_webhook(webhook, event_type, data):
        payload = {
            'event': event_type,
            'data': data,
            'timestamp': timezone.now().isoformat()
        }
        
        headers = {'Content-Type': 'application/json'}
        
        if webhook.secret:
            signature = hmac.new(
                webhook.secret.encode(),
                json.dumps(payload).encode(),
                hashlib.sha256
            ).hexdigest()
            headers['X-Webhook-Signature'] = f'sha256={signature}'
        
        try:
            response = requests.post(
                webhook.url,
                json=payload,
                headers=headers,
                timeout=10
            )
            response.raise_for_status()
        except requests.RequestException as e:
            logger.error(f"Webhook failed: {e}")
```

#### 4. API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**REST API endpoints:**
```python
# app/api/views.py
from rest_framework import viewsets, permissions
from rest_framework.decorators import action
from rest_framework.response import Response

class TicketViewSet(viewsets.ModelViewSet):
    queryset = Ticket.objects.all()
    serializer_class = TicketSerializer
    permission_classes = [permissions.IsAuthenticated]

    @action(detail=True, methods=['post'])
    def assign(self, request, pk=None):
        ticket = self.get_object()
        user_id = request.data.get('user_id')
        # –õ–æ–≥–∏–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
        return Response({'status': 'assigned'})

    @action(detail=False, methods=['get'])
    def statistics(self, request):
        stats = {
            'total': Ticket.objects.count(),
            'open': Ticket.objects.filter(status='open').count(),
            'resolved': Ticket.objects.filter(status='resolved').count(),
        }
        return Response(stats)
```

**API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
```python
# app/api/views.py
from drf_yasg.utils import swagger_auto_schema
from drf_yasg import openapi

class TicketViewSet(viewsets.ModelViewSet):
    @swagger_auto_schema(
        operation_description="–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ç–æ–≤",
        responses={200: TicketSerializer(many=True)}
    )
    def list(self, request):
        return super().list(request)
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ WorkerNet Portal –≤–∫–ª—é—á–∞–µ—Ç:

#### ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**
- –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

#### ‚úÖ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å Docker
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx, SSL –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### ‚úÖ **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Backend –∏ Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- Git workflow –∏ best practices

#### ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**
- Clean Architecture –∏ DDD
- CQRS –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ CI/CD
- DevOps –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

#### ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Unit, Integration, E2E)
- Backend –∏ Frontend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

#### ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫**
- –ü—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**
- –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (LDAP, Email, Webhooks, API)

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫:**
```bash
# –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
bash scripts/install-ubuntu.sh

# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/quick-update.sh

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker
./scripts/start-docker.sh start
```

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
# Backend
python manage.py runserver
python manage.py test

# Frontend
npm run dev
npm test

# Docker
docker compose up -d
docker compose logs -f
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
./scripts/quick-update.sh --debug

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
bash scripts/fix-common-issues.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f
```

### –í–∞–∂–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Frontend**: https://your-domain.com
- **API**: https://your-domain.com/api/
- **Admin**: https://your-domain.com/admin/
- **Grafana**: http://your-domain.com:3001
- **Prometheus**: http://your-domain.com:9090
- **Celery Flower**: http://your-domain.com:5555
- **Kibana**: http://your-domain.com:5601

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **–°–æ–∑–¥–∞–π—Ç–µ issue** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û.md](–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û.md) - –û—Å–Ω–æ–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨2.md](–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨2.md) - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨3.md](–ü–û–õ–ù–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û_–ß–ê–°–¢–¨3.md) - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∏–∑—É—á–∏–ª–∏ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ WorkerNet Portal!**

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.


